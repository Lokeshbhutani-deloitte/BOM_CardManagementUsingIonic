<ion-card>
  <ion-card-header>
    <ion-card-title>Business Card</ion-card-title>
    <ion-card-subtitle>Credit Card</ion-card-subtitle>
  </ion-card-header>
  <ion-card-content style="height: fit-content;">
    <ion-list>
      <ion-item>
        <ion-toggle [(ngModel)]="cardStatus" id="present-alert"><b>Status</b></ion-toggle>
      </ion-item>
      <ion-accordion-group>
        <ion-accordion value="first">
          <ion-item slot="header" color="light">
            <ion-label>Contorls</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <ion-accordion-group>
              <ion-accordion *ngFor="let item of controlAndAlertsOption; trackBy:trackItems" [value]="item.value">
                <ion-item slot="header" color="light">
                  <ion-label>{{item.name}}</ion-label>
                </ion-item>
                <div class="ion-padding" slot="content">
                  <ion-list>
                    <ion-item *ngFor="let control of item.controlAndAlertToggleOption; trackBy:trackItems">
                      <ion-toggle [(ngModel)]="control.controlValue" (ngModelChange)="checkIfSaveButtonEnable()">{{control.name}}</ion-toggle>
                    </ion-item>
                  </ion-list>
                </div>
              </ion-accordion>
              <ion-accordion value="lastFiveTransaction">
                <ion-item slot="header" color="light">
                  <ion-label>Last Five Transaction</ion-label>
                </ion-item>
                <div class="ion-padding" slot="content">
                  <ion-list>
                    <ion-item *ngFor="let item of transactionDetail; trackBy:trackItems">
                      <ion-toggle [(ngModel)]="item.isEmiEnable" (ngModelChange)="showHideConverToEmiButton()">{{
                        item.transactionName }}&nbsp; &nbsp;{{item.value}}</ion-toggle>
                    </ion-item>
                  </ion-list>
                </div>
              </ion-accordion>
            </ion-accordion-group>
          </div>
        </ion-accordion>
        <ion-accordion value="second">
          <ion-item slot="header" color="light">
            <ion-label>Alerts</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <ion-list>
              <ion-item>
                <ion-label>Set Alerts For</ion-label>
                <ion-select [(ngModel)]="selectedAlertOption" (ngModelChange)="setAlerts()" placeholder="Select a Alert">
                  <ion-select-option value="allTransaction">All Transaction</ion-select-option>
                  <ion-select-option value="selectedTransaction">Selected Transaction</ion-select-option>
                  <ion-select-option value="none">None</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-accordion-group>
                <ion-accordion *ngFor="let item of controlAndAlertsOption; trackBy:trackItems" [value]="item.value">
                  <ion-item slot="header" color="light">
                    <ion-label>{{item.name}}</ion-label>
                  </ion-item>
                  <div class="ion-padding" slot="content">
                    <ion-list>
                      <ion-item *ngFor="let control of item.controlAndAlertToggleOption; trackBy:trackItems">
                        <ion-toggle [(ngModel)]="control.alertValue" (ngModelChange)="checkIfSaveButtonEnable()" [disabled]="!(selectedAlertOption == 'selectedTransaction')">{{control.name}}</ion-toggle>
                      </ion-item>
                    </ion-list>
                  </div>
                </ion-accordion>
              </ion-accordion-group>
            </ion-list>
          </div>
        </ion-accordion>
      </ion-accordion-group>
      <ion-item>
        <ion-label><ion-button color="tertiary" routerLink="../../">Card List</ion-button>
          <ion-button color="danger" *ngIf="showConvertToEmiButton">Convert To EMI</ion-button>
          <ion-button color="primary" [disabled]="!enableSaveButton">Save</ion-button>
        </ion-label>

      </ion-item>
      <ion-item>

      </ion-item>
    </ion-list>
    <ion-alert trigger="present-alert" header="Change Card Status" message="Are you sure you want to change card status"
      [buttons]="alertButtons"></ion-alert>
  </ion-card-content>
</ion-card>